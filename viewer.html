<!DOCTYPE html>
<html lang="el">
<head>
<meta charset="UTF-8" />
<title>Viewer Template</title>
<style>
  body { font-family: Arial, sans-serif; margin: 20px; background: #f9f9f9; }
  nav button { margin: 0 5px; padding: 8px 15px; background: #28a745; color: #fff; border: none; cursor: pointer; border-radius: 4px; }
  nav button:hover { background: #218838; }
  .tab-content { display: none; padding: 15px; background: #fff; margin-top: 10px; border-radius: 5px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
  .tab-content.active { display: block; }
  h2 { color: #0066cc; }
</style>
</head>
<body>

<h1>Viewer</h1>

<nav>
  <button data-tab="intro">Εισαγωγή</button>
  <button data-tab="prologue">Πρόλογος</button>
  <button data-tab="sections">Μέρη</button>
  <button data-tab="conclusion">Συμπέρασμα</button>
</nav>

<div id="intro" class="tab-content"></div>
<div id="prologue" class="tab-content"></div>
<div id="sections" class="tab-content"></div>
<div id="conclusion" class="tab-content"></div>

<script>
  const currentLanguage = 'el';
  let guideData = null;

  // Φόρτωση JSON (αντικατάστησε το path με το δικό σου αρχείο)
  fetch('sparkethos-en-el.json')
    .then(res => res.json())
    .then(data => {
      guideData = data;
      renderContent();
      openTab('intro');
    })
    .catch(e => {
      console.error('Error loading JSON:', e);
      alert('Σφάλμα φόρτωσης των δεδομένων.');
    });

  function openTab(tabName) {
    document.querySelectorAll('.tab-content').forEach(div => {
      div.classList.toggle('active', div.id === tabName);
    });
  }

  // Κουμπιά πλοήγησης
  document.querySelectorAll('nav button').forEach(btn => {
    btn.addEventListener('click', () => openTab(btn.dataset.tab));
  });

  function renderContent() {
    if (!guideData) return;

    // Εισαγωγή
    const intro = guideData.introduction || guideData.intro || { title: {}, content: {} };
    document.getElementById('intro').innerHTML = `
      <h2>${intro.title[currentLanguage] || intro.title.en || 'Εισαγωγή'}</h2>
      <p>${intro.content[currentLanguage] || intro.content.en || 'Μη διαθέσιμο'}</p>
    `;

    // Πρόλογος
    const prologue = guideData.prologue || { title: {}, content: {} };
    document.getElementById('prologue').innerHTML = `
      <h2>${prologue.title[currentLanguage] || prologue.title.en || 'Πρόλογος'}</h2>
      <p>${prologue.content[currentLanguage] || prologue.content.en || 'Μη διαθέσιμο'}</p>
    `;

    // Μέρη
    const sections = guideData.sections || [];
    let sectionsHTML = '';
    sections.forEach((section, i) => {
      const title = section.title ? (section.title[currentLanguage] || section.title.en) : `Τμήμα ${i+1}`;
      const content = section.content ? (section.content[currentLanguage] || section.content.en) : 'Χωρίς περιεχόμενο';
      sectionsHTML += `<h3>${title}</h3><p>${content}</p>`;
    });
    document.getElementById('sections').innerHTML = sectionsHTML || '<p>Δεν υπάρχουν μέρη.</p>';

    // Συμπέρασμα
    const conclusion = guideData['final-conclusion'] || guideData.conclusion || { title: {}, content: {} };
    document.getElementById('conclusion').innerHTML = `
      <h2>${conclusion.title ? (conclusion.title[currentLanguage] || conclusion.title.en) : 'Συμπέρασμα'}</h2>
      <p>${conclusion.content ? (conclusion.content[currentLanguage] || conclusion.content.en) : 'Μη διαθέσιμο'}</p>
    `;
  }
</script>

</body>
</html>
