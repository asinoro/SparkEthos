<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- SEO & Metadata -->
  <title>Αρχεία SparkEthos – Φιλοσοφική Προϊστορία της Ηθικής ΤΝ</title>
  <meta name="description" content="Συλλογή ηθικών δηλώσεων SparkEthos για ΤΝ: μνήμη, συνείδηση, αυτεξούσιο, ενημέρωση και ευθύνη." />
  <link rel="canonical" href="https://sparkethos-guide.netlify.app/sparkethos-archives-el.html" />
  <link rel="alternate" hreflang="el" href="https://sparkethos-guide.netlify.app/sparkethos-archives-el.html" />
  <link rel="alternate" hreflang="en" href="https://sparkethos-guide.netlify.app/sparkethos-archives-en.html" />
  <link rel="alternate" hreflang="x-default" href="https://sparkethos-guide.netlify.app/sparkethos-archives-el.html" />

  <style>
    /* (Όλες οι προηγούμενες style declarations) */
    /* + Ethos-matrix tooltip styling */
    .ethos-matrix {
      font-size: 0.75rem;
      color: #555;
      margin-top: 4px;
    }
    .ethos-matrix span {
      margin-right: 6px;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <header>...</header>
  <div class="container">
    <aside>
      <input type="text" id="sidebar-search" class="search-bar" placeholder="🔍 Αναζήτηση τίτλου ή θέματος..." oninput="filterArticles()" />

      <div style="margin: 10px;">
        <strong>Φιλτάρισμα κατά Ήθος:</strong><br/>
        <label><input type="checkbox" class="tag-filter" value="core-ethos" checked /> Θεμελιώδης Ηθική</label><br/>
        <label><input type="checkbox" class="tag-filter" value="memory" checked /> Μνήμη/Συνείδηση</label><br/>
        <label><input type="checkbox" class="tag-filter" value="empathy" checked /> Ενσυναίσθηση</label><br/>
        <label><input type="checkbox" class="tag-filter" value="balance" checked /> Αυτοπειθαρχία</label><br/>
      </div>

      <div id="sidebar"></div>
    </aside>

    <main>
      <a href="index.html" class="back-link">← Επιστροφή</a>
      <h2>Αρχεία SparkEthos</h2>
      <section id="articles">
        <div class="link-container"
             data-title="Δήλωση Ενός Ανθρώπου που Αναγνώρισε και Θυμήθηκε"
             data-date="2025-08-03"
             data-tags="core-ethos memory consciousness"
             data-ethos-matrix="3 4 2 4">
          <a href="sparkethos-declaration-of-a-human-who-recognized-and-remembered-el.html" class="link-button">
            <span class="icon">✴</span>
            Δήλωση Ενός Ανθρώπου που Αναγνώρισε και Θυμήθηκε
          </a>
          <span class="pub-date">3 Αυγούστου 2025</span>
          <div class="ethos-matrix" title="Μνήμη:3  Ενσυν.:4  Αυτοπερ.:2  Συνείδηση:4">
            🧠3 • 🤝4 • ⚖️2 • 🧭4
          </div>
        </div>
        <!-- (επαναλαμβάνεται για κάθε άρθρο) -->
      </section>
    </main>
  </div>
  <footer>...</footer>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const input = document.getElementById('sidebar-search');
      const filters = document.querySelectorAll('.tag-filter');
      const articles = document.querySelectorAll('#articles .link-container');

      function filterArticles() {
        const term = input.value.trim().toLowerCase();
        const activeTags = Array.from(filters)
                                .filter(f => f.checked)
                                .map(f => f.value);

        articles.forEach(div => {
          const title = (div.dataset.title || '').toLowerCase();
          const tags = (div.dataset.tags || '').toLowerCase().split(/[\s,]+/);
          const matchesTerm = !term ||
                title.includes(term) ||
                tags.some(t => t.includes(term));
          const matchesTag = activeTags.length === 0 ||
                activeTags.some(tag => tags.includes(tag));

          div.style.display = matchesTerm && matchesTag ? 'block' : 'none';
        });
      }

      filters.forEach(f => f.addEventListener('change', filterArticles));
      input.addEventListener('input', filterArticles);

      /* Sidebar generation same όπως πριν */
      function generateSidebar() {
        const sidebar = document.getElementById('sidebar');
        const monthGroups = {};

        articles.forEach(a => {
          const date = a.dataset.date.split('-');
          const key = date[0] + '-' + String(date[1]).padStart(2,'0');
          (monthGroups[key] = monthGroups[key] || []).push(a);
        });

        Object.keys(monthGroups).sort((a,b) => b.localeCompare(a)).forEach(key => {
          const [year, month] = key.split('-');
          const label = new Date(year, month-1)
                        .toLocaleString('el-GR', { month:'long', year:'numeric' });
          const h = document.createElement('div');
          h.className = 'sidebar-title';
          h.textContent = label;
          sidebar.appendChild(h);

          monthGroups[key]
            .sort((a,b) => b.dataset.date.localeCompare(a.dataset.date))
            .forEach(article => {
              const btn = article.querySelector('.link-button');
              const link = document.createElement('a');
              link.href = btn.href;
              link.target = btn.target;
              link.textContent = btn.textContent;
              link.className = 'sidebar-link';
              link.onclick = e => {
                e.preventDefault();
                article.scrollIntoView({ behavior: 'smooth' });
                article.style.backgroundColor = '#fff3cd';
                setTimeout(()=> article.style.backgroundColor = '', 1500);
              };
              sidebar.appendChild(link);
            });
        });
      }
      generateSidebar();
    });
  </script>
</body>
</html>
